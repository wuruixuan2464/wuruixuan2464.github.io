<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>JS 正则表达式 | Shi Yu Technology</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="正则表达式的创建方式以及区别pattern:正则表达式   flags:标识(修饰符) 标识主要包括： 1. i 忽略大小写匹配 2. m 多行匹配，即在到达一行文本末尾时还会继续寻常下一行中是否与正则匹配的项 3. g 全局匹配 模式应用于所有字符串，而非在找到第一个匹配项时停止 字面量创建方式 1var reg &#x3D; &#x2F;pattern&#x2F;flags  实例创建方式 1var reg &#x3D; new R">
<meta property="og:type" content="article">
<meta property="og:title" content="JS 正则表达式">
<meta property="og:url" content="http://example.com/2021/07/26/210726/index.html">
<meta property="og:site_name" content="Shi Yu Technology">
<meta property="og:description" content="正则表达式的创建方式以及区别pattern:正则表达式   flags:标识(修饰符) 标识主要包括： 1. i 忽略大小写匹配 2. m 多行匹配，即在到达一行文本末尾时还会继续寻常下一行中是否与正则匹配的项 3. g 全局匹配 模式应用于所有字符串，而非在找到第一个匹配项时停止 字面量创建方式 1var reg &#x3D; &#x2F;pattern&#x2F;flags  实例创建方式 1var reg &#x3D; new R">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-26T02:49:22.155Z">
<meta property="article:modified_time" content="2021-07-26T03:23:00.141Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Shi Yu Technology" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Shi Yu Technology</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-210726" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/26/210726/" class="article-date">
  <time datetime="2021-07-26T02:49:22.155Z" itemprop="datePublished">2021-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JS 正则表达式
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="正则表达式的创建方式以及区别"><a href="#正则表达式的创建方式以及区别" class="headerlink" title="正则表达式的创建方式以及区别"></a>正则表达式的创建方式以及区别</h3><pre><code>pattern:正则表达式  
flags:标识(修饰符)
标识主要包括：
1. i 忽略大小写匹配
2. m 多行匹配，即在到达一行文本末尾时还会继续寻常下一行中是否与正则匹配的项
3. g 全局匹配 模式应用于所有字符串，而非在找到第一个匹配项时停止</code></pre>
<p>字面量创建方式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/pattern/</span>flags</span><br></pre></td></tr></table></figure>

<p>实例创建方式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern,flags);</span><br></pre></td></tr></table></figure>
<h4 id="字面量创建方式和构造函数创建方式的区别"><a href="#字面量创建方式和构造函数创建方式的区别" class="headerlink" title="字面量创建方式和构造函数创建方式的区别"></a>字面量创建方式和构造函数创建方式的区别</h4><p>1.字面量创建方式不能进行字符串拼接，实例创建方式可以</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regParam = <span class="string">&#x27;cm&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(regParam+<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/regParam/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg1);  <span class="comment">//   /cm1/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2);  <span class="comment">//  /regParam/</span></span><br></pre></td></tr></table></figure>
<p>2.字面量创建方式特殊含义的字符不需要转义，实例创建方式需要转义</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;\d&#x27;</span>);  <span class="comment">//    /d/ </span></span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;\\d&#x27;</span>)  <span class="comment">//   /\d/</span></span><br><span class="line"><span class="keyword">var</span> reg3 = <span class="regexp">/\d/</span>;              <span class="comment">//  /\d/</span></span><br></pre></td></tr></table></figure>

<h3 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h3><p>代表特殊含义的元字符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">\d : <span class="number">0</span>-<span class="number">9</span>之间的任意一个数字  \d只占一个位置</span><br><span class="line">\w : 数字，字母 ，下划线 <span class="number">0</span>-<span class="number">9</span> a-z A-Z _</span><br><span class="line">\s : 空格或者空白等</span><br><span class="line">\D : 除了\d</span><br><span class="line">\W : 除了\w</span><br><span class="line">\S : 除了\s</span><br><span class="line"> . : 除了\n之外的任意一个字符</span><br><span class="line"> \ : 转义字符</span><br><span class="line"> | : 或者</span><br><span class="line">() : 分组</span><br><span class="line">\n : 匹配换行符</span><br><span class="line">\b : 匹配边界 字符串的开头和结尾 空格的两边都是边界 =&gt; 不占用字符串位数</span><br><span class="line"> ^ : 限定开始位置 =&gt; 本身不占位置</span><br><span class="line"> $ : 限定结束位置 =&gt; 本身不占位置</span><br><span class="line">[a-z] : 任意字母 []中的表示任意一个都可以</span><br><span class="line">[^a-z] : 非字母 []中^代表除了</span><br><span class="line">[abc] : abc三个字母中的任何一个 [^abc]除了这三个字母中的任何一个字符</span><br></pre></td></tr></table></figure>
<p>代表次数的量词元字符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* : <span class="number">0</span>到多个</span><br><span class="line">+ : <span class="number">1</span>到多个</span><br><span class="line">? : <span class="number">0</span>次或<span class="number">1</span>次 可有可无</span><br><span class="line">&#123;n&#125; : 正好n次；</span><br><span class="line">&#123;n,&#125; : n到多次</span><br><span class="line">&#123;n,m&#125; : n次到m次</span><br></pre></td></tr></table></figure>
<p>量词出现在元字符后面 如\d+，限定出现在前面的元字符的次数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;1223334444&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d&#123;2&#125;/g</span>;</span><br><span class="line"><span class="keyword">var</span> res = str.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res)  <span class="comment">//[&quot;12&quot;, &quot;23&quot;, &quot;33&quot;, &quot;44&quot;, &quot;44&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str =<span class="string">&#x27;  我是空格君  &#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\s+|\s+$/g</span>; <span class="comment">//匹配开头结尾空格</span></span><br><span class="line"><span class="keyword">var</span> res = str.replace(reg,<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;(&#x27;</span>+res+<span class="string">&#x27;)&#x27;</span>)  <span class="comment">//(我是空格君)</span></span><br></pre></td></tr></table></figure>

<h3 id="正则运算符的优先级"><a href="#正则运算符的优先级" class="headerlink" title="正则运算符的优先级"></a>正则运算符的优先级</h3><p>1.正则表达式从左到右进行计算，并遵循优先级顺序，这与算术表达式非常类似。<br>2.相同优先级的会从左到右进行运算，不同优先级的运算先高后低。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">下面是常见的运算符的优先级排列</span><br><span class="line">依次从最高到最低说明各种正则表达式运算符的优先级顺序：</span><br><span class="line"></span><br><span class="line">\ : 转义符</span><br><span class="line">(), (?:), (?=), []  =&gt; 圆括号和方括号</span><br><span class="line">*, +, ?, &#123;n&#125;, &#123;n,&#125;, &#123;n,m&#125;   =&gt; 量词限定符</span><br><span class="line">^, $, \任何元字符、任何字符 </span><br><span class="line">|       =&gt; 替换，<span class="string">&quot;或&quot;</span>操作</span><br><span class="line"></span><br><span class="line">字符具有高于替换运算符的优先级，一般用 | 的时候，为了提高 | 的优先级，我们常用()来提高优先级</span><br><span class="line">如： 匹配 food或者foot的时候 reg = <span class="regexp">/foo(t|d)/</span> 这样来匹配</span><br></pre></td></tr></table></figure>
<h3 id="正则的特性"><a href="#正则的特性" class="headerlink" title="正则的特性"></a>正则的特性</h3><p>贪婪性:所谓的贪婪性就是正则在捕获时，每一次会尽可能多的去捕获符合条件的内容。<br>            如果我们想尽可能的少的去捕获符合条件的字符串的话，可以在量词元字符后加?<br>懒惰性:懒惰性则是正则在成功捕获一次后不管后边的字符串有没有符合条件的都不再捕获。<br>            如果想捕获目标中所有符合条件的字符串的话，我们可以用标识符g来标明是全局捕获。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;123aaa456&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;  <span class="comment">//只捕获一次,一次尽可能多的捕获</span></span><br><span class="line"><span class="keyword">var</span> res = str.match(reg)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"><span class="comment">// [&quot;123&quot;, index: 0, input: &quot;123aaa456&quot;]</span></span><br><span class="line">reg = <span class="regexp">/\d+?/g</span>; <span class="comment">//解决贪婪性、懒惰性</span></span><br><span class="line">res = str.match(reg)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"><span class="comment">// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="和正则相关的一些方法"><a href="#和正则相关的一些方法" class="headerlink" title="和正则相关的一些方法"></a>和正则相关的一些方法</h3><p>这里我们只介绍test、exec、match和replace这四个方法:</p>
<h4 id="reg-test-str-用来验证字符串是否符合正则-符合返回true-否则返回false"><a href="#reg-test-str-用来验证字符串是否符合正则-符合返回true-否则返回false" class="headerlink" title="reg.test(str) 用来验证字符串是否符合正则 符合返回true 否则返回false"></a>reg.test(str) 用来验证字符串是否符合正则 符合返回true 否则返回false</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\w+/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h4 id="reg-exec-用来捕获符合规则的字符串"><a href="#reg-exec-用来捕获符合规则的字符串" class="headerlink" title="reg.exec() 用来捕获符合规则的字符串"></a>reg.exec() 用来捕获符合规则的字符串</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc123cba456aaa789&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">//  [&quot;123&quot;, index: 3, input: &quot;abc123cba456aaa789&quot;];</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line"><span class="comment">// lastIndex : 0 </span></span><br><span class="line"></span><br><span class="line">reg.exec捕获的数组中 </span><br><span class="line"><span class="comment">// [0:&quot;123&quot;,index:3,input:&quot;abc123cba456aaa789&quot;]</span></span><br><span class="line"><span class="number">0</span>:<span class="string">&quot;123&quot;</span> 表示我们捕获到的字符串</span><br><span class="line">index:<span class="number">3</span> 表示捕获开始位置的索引</span><br><span class="line">input 表示原有的字符串</span><br></pre></td></tr></table></figure>
<p>当我们用exec进行捕获时，如果正则没有加’g’标识符，则exec捕获的每次都是同一个，当正则中有’g’标识符时 捕获的结果就不一样了,我们还是来看刚刚的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc123cba456aaa789&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/g</span>;  <span class="comment">//此时加了标识符g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line"><span class="comment">// lastIndex : 0 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">//  [&quot;123&quot;, index: 3, input: &quot;abc123cba456aaa789&quot;]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line"><span class="comment">// lastIndex : 6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">// [&quot;456&quot;, index: 9, input: &quot;abc123cba456aaa789&quot;]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line"><span class="comment">// lastIndex : 12</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">// [&quot;789&quot;, index: 15, input: &quot;abc123cba456aaa789&quot;]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line"><span class="comment">// lastIndex : 18</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str))</span><br><span class="line"><span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex)</span><br><span class="line"><span class="comment">// lastIndex : 0</span></span><br><span class="line"></span><br><span class="line">每次调用exec方法时,捕获到的字符串都不相同</span><br><span class="line">lastIndex ：这个属性记录的就是下一次捕获从哪个索引开始。</span><br><span class="line">当未开始捕获时，这个值为<span class="number">0</span>。          </span><br><span class="line">如果当前次捕获结果为<span class="literal">null</span>。那么lastIndex的值会被修改为<span class="number">0.</span>下次从头开始捕获。</span><br><span class="line">而且这个lastIndex属性还支持人为赋值。</span><br></pre></td></tr></table></figure>
<p>exec的捕获还受分组()的影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;2017-01-05&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/-(\d+)/g</span></span><br><span class="line"><span class="comment">// [&quot;-01&quot;, &quot;01&quot;, index: 4, input: &quot;2017-01-05&quot;]</span></span><br><span class="line"><span class="string">&quot;-01&quot;</span> : 正则捕获到的内容</span><br><span class="line"><span class="string">&quot;01&quot;</span>  : 捕获到的字符串中的小分组中的内容</span><br></pre></td></tr></table></figure>
<h4 id="str-match-reg-如果匹配成功，就返回匹配成功的数组，如果匹配不成功，就返回null"><a href="#str-match-reg-如果匹配成功，就返回匹配成功的数组，如果匹配不成功，就返回null" class="headerlink" title="str.match(reg) 如果匹配成功，就返回匹配成功的数组，如果匹配不成功，就返回null"></a>str.match(reg) 如果匹配成功，就返回匹配成功的数组，如果匹配不成功，就返回null</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//match和exec的用法差不多</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc123cba456aaa789&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str));</span><br><span class="line"><span class="comment">//[&quot;123&quot;, index: 3, input: &quot;abc123cba456aaa789&quot;]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">//[&quot;123&quot;, index: 3, input: &quot;abc123cba456aaa789&quot;]</span></span><br></pre></td></tr></table></figure>
<p>上边两个方法console的结果有什么不同呢？二个字符串是一样滴。<br>当我们进行全局匹配时，二者的不同就会显现出来了.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc123cba456aaa789&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str));</span><br><span class="line"><span class="comment">// [&quot;123&quot;, index: 3, input: &quot;abc123cba456aaa789&quot;]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&quot;123&quot;, &quot;456&quot;, &quot;789&quot;]</span></span><br></pre></td></tr></table></figure>
<h4 id="str-replace-这个方法大家肯定不陌生，现在我们要说的就是和这个方法和正则相关的东西了。"><a href="#str-replace-这个方法大家肯定不陌生，现在我们要说的就是和这个方法和正则相关的东西了。" class="headerlink" title="str.replace() 这个方法大家肯定不陌生，现在我们要说的就是和这个方法和正则相关的东西了。"></a>str.replace() 这个方法大家肯定不陌生，现在我们要说的就是和这个方法和正则相关的东西了。</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">正则去匹配字符串，匹配成功的字符去替换成新的字符串</span><br><span class="line">写法：str.replace(reg,newStr);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;a111bc222de&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> res = str.replace(<span class="regexp">/\d/g</span>,<span class="string">&#x27;Q&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"><span class="comment">// &quot;aQQQbcQQQde&quot;</span></span><br><span class="line"></span><br><span class="line">replace的第二个参数也可以是一个函数</span><br><span class="line">str.replace(reg,fn);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;2017-01-06&#x27;</span>;</span><br><span class="line">str = str.replace(<span class="regexp">/-\d+/g</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">控制台打印结果：</span><br><span class="line">[<span class="string">&quot;-01&quot;</span>, <span class="number">4</span>, <span class="string">&quot;2017-01-06&quot;</span>]</span><br><span class="line">[<span class="string">&quot;-06&quot;</span>, <span class="number">7</span>, <span class="string">&quot;2017-01-06&quot;</span>]</span><br><span class="line"><span class="string">&quot;2017undefinedundefined&quot;</span></span><br><span class="line">从打印结果我们发现每一次输出的值似乎跟exec捕获时很相似，既然与exec似乎很相似，那么似乎也可以打印出小分组中的内容喽 </span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;2017-01-06&#x27;</span>;</span><br><span class="line">str = str.replace(<span class="regexp">/-(\d+)/g</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;)</span><br><span class="line">[<span class="string">&quot;-01&quot;</span>, <span class="string">&quot;01&quot;</span>, <span class="number">4</span>, <span class="string">&quot;2017-01-06&quot;</span>]</span><br><span class="line">[<span class="string">&quot;-06&quot;</span>, <span class="string">&quot;06&quot;</span>, <span class="number">7</span>, <span class="string">&quot;2017-01-06&quot;</span>]</span><br><span class="line"><span class="string">&quot;2017undefinedundefined&quot;</span></span><br><span class="line">从结果看来我们的猜测没问题。</span><br><span class="line"></span><br><span class="line">此外，我们需要注意的是，如果我们需要替换replace中正则找到的字符串，函数中需要一个返回值去替换正则捕获的内容。</span><br></pre></td></tr></table></figure>
<p>通过replace方法获取url中的参数的方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">pro</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">queryString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> obj = &#123;&#125;,</span><br><span class="line">            reg = <span class="regexp">/([^?&amp;#+]+)=([^?&amp;#+]+)/g</span>;</span><br><span class="line">        <span class="built_in">this</span>.replace(reg,<span class="function"><span class="keyword">function</span>(<span class="params">$<span class="number">0</span>,$<span class="number">1</span>,$<span class="number">2</span></span>)</span>&#123;</span><br><span class="line">            obj[$<span class="number">1</span>] = $<span class="number">2</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    pro.queryString = queryString;</span><br><span class="line">&#125;(<span class="built_in">String</span>.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 例如 url为 https://www.baidu.com?a=1&amp;b=2</span></span><br><span class="line"><span class="comment">// window.location.href.queryString();</span></span><br><span class="line"><span class="comment">// &#123;a:1,b:2&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="零宽断言"><a href="#零宽断言" class="headerlink" title="零宽断言"></a>零宽断言</h3><p>用于查找在某些内容(但并不包括这些内容)之前或之后的东西，如\b,^,$那样用于指定一个位置，这个位置应该满足一定的条件(即断言)，因此它们也被称为零宽断言。<br>在使用正则表达式时，捕获的内容前后必须是特定的内容，而我们又不想捕获这些特定内容的时候，零宽断言就可以派上用场了。</p>
<p>零宽度正预测先行断言 (?=exp)<br>零宽度负预测先行断言 (?!exp)<br>零宽度正回顾后发断言 (?&lt;=exp)<br>零宽度负回顾后发断言 (?&lt;!exp)</p>
<p>这四胞胎看着名字好长，给人一种好复杂好难的感觉，我们还是挨个来看看它们究竟是干什么的吧。</p>
<h4 id="exp-这个简单理解就是说字符出现的位置的右边必须匹配到exp这个表达式。"><a href="#exp-这个简单理解就是说字符出现的位置的右边必须匹配到exp这个表达式。" class="headerlink" title="(?=exp) 这个简单理解就是说字符出现的位置的右边必须匹配到exp这个表达式。"></a>(?=exp) 这个简单理解就是说字符出现的位置的右边必须匹配到exp这个表达式。</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;i&#x27;m singing and dancing&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\b(\w+(?=ing\b))/g</span></span><br><span class="line"><span class="keyword">var</span> res = str.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"><span class="comment">// [&quot;sing&quot;, &quot;danc&quot;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意一点，这里说到的是位置，不是字符。</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a(?=b)c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(res.test(str));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个看起来似乎是正确的，实际上结果是false</span></span><br><span class="line">reg中a(?=b)匹配字符串<span class="string">&#x27;abc&#x27;</span> 字符串a的右边是b这个匹配没问题,接下来reg中a(?=b)后边的c匹配字符串时是从字符串<span class="string">&#x27;abc&#x27;</span>中a的后边b的前边的这个位置开始匹配的，</span><br><span class="line">这个相当于/ac/匹配<span class="string">&#x27;abc&#x27;</span>,显然结果是<span class="literal">false</span>了</span><br></pre></td></tr></table></figure>
<h4 id="exp-这个就是说字符出现的位置的右边不能是exp这个表达式。"><a href="#exp-这个就是说字符出现的位置的右边不能是exp这个表达式。" class="headerlink" title="(?!exp) 这个就是说字符出现的位置的右边不能是exp这个表达式。"></a>(?!exp) 这个就是说字符出现的位置的右边不能是exp这个表达式。</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;nodejs&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/node(?!js)/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h4 id="lt-exp-这个就是说字符出现的位置的前边是exp这个表达式。"><a href="#lt-exp-这个就是说字符出现的位置的前边是exp这个表达式。" class="headerlink" title="(?&lt;=exp) 这个就是说字符出现的位置的前边是exp这个表达式。"></a>(?&lt;=exp) 这个就是说字符出现的位置的前边是exp这个表达式。</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;￥998$888&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;=\$)\d+/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">//888</span></span><br></pre></td></tr></table></figure>
<h4 id="lt-exp-这个就是说字符出现的位置的前边不能是exp这个表达式。"><a href="#lt-exp-这个就是说字符出现的位置的前边不能是exp这个表达式。" class="headerlink" title="(?&lt;!exp) 这个就是说字符出现的位置的前边不能是exp这个表达式。"></a>(?&lt;!exp) 这个就是说字符出现的位置的前边不能是exp这个表达式。</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;￥998$888&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;!\$)\d+/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">//998</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/07/26/210726/" data-id="ckrk268kp0000vcvnh9dt7od5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2021/07/23/210723/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">CSS样式整理清单(2)</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/26/210726/">JS 正则表达式</a>
          </li>
        
          <li>
            <a href="/2021/07/23/210723/">CSS样式整理清单(2)</a>
          </li>
        
          <li>
            <a href="/2021/07/22/210722/">CSS样式整理清单</a>
          </li>
        
          <li>
            <a href="/2021/03/17/210317r/">网页版word编译器插件以及layui时间插件使用</a>
          </li>
        
          <li>
            <a href="/2021/03/17/210317/">西瓜视频插件使用</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>